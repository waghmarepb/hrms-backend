# Render Environment Variables Configuration

Copy these variables to your Render dashboard Environment Variables section.
Navigate to: **Dashboard > Your Service > Environment**

## ⚠️ Important Notes
- Mark sensitive values (passwords, keys) as **SECRET** in Render
- Variables marked with `# Required` must be set
- Variables marked with `# Optional` can be omitted for basic functionality

---

## Application Settings

```bash
# Required
APP_NAME=HRMS Backend
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-app.onrender.com  # Update with your actual Render URL

# Required - Auto-generated by Render or run: php artisan key:generate --show
APP_KEY=base64:your-generated-key-here
```

---

## Database Configuration

```bash
# Required - Use Render's managed database or external MySQL
DB_CONNECTION=mysql
DB_HOST=your-db-host.onrender.com
DB_PORT=3306
DB_DATABASE=your_database_name
DB_USERNAME=your_db_username
DB_PASSWORD=your_db_password  # Mark as SECRET in Render
```

### For Render Managed Database:
After creating a MySQL database in Render, use the **Internal Connection String** details provided.

---

## Sanctum Authentication

```bash
# Required - Add your frontend domain(s), comma-separated
SANCTUM_STATEFUL_DOMAINS=your-frontend.com,www.your-frontend.com

# Required - Your frontend domain with leading dot
SESSION_DOMAIN=.your-frontend.com
```

---

## Logging

```bash
LOG_CHANNEL=stack
LOG_LEVEL=error
LOG_DEPRECATIONS_CHANNEL=null
```

---

## Cache & Session

```bash
# For basic setup, use file driver
CACHE_DRIVER=file
SESSION_DRIVER=file
FILESYSTEM_DISK=local
QUEUE_CONNECTION=sync
SESSION_LIFETIME=120
BROADCAST_DRIVER=log
```

### For Better Performance (Optional):
Add a Redis service in Render, then update:
```bash
CACHE_DRIVER=redis
SESSION_DRIVER=redis
REDIS_HOST=your-redis-host.onrender.com
REDIS_PASSWORD=your_redis_password  # Mark as SECRET
REDIS_PORT=6379
```

---

## Mail Configuration (Optional)

Only if you need email functionality:

```bash
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password  # Mark as SECRET (use app-specific password for Gmail)
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@yourdomain.com
MAIL_FROM_NAME=HRMS Backend
```

---

## AWS S3 Storage (Optional)

Only if you need cloud file storage:

```bash
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key  # Mark as SECRET
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=your-bucket-name
AWS_USE_PATH_STYLE_ENDPOINT=false
FILESYSTEM_DISK=s3
```

---

## Quick Copy for Basic Setup

Here's a minimal configuration to get started:

```bash
APP_NAME=HRMS Backend
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-app.onrender.com
APP_KEY=  # Will be auto-generated

DB_CONNECTION=mysql
DB_HOST=
DB_PORT=3306
DB_DATABASE=
DB_USERNAME=
DB_PASSWORD=  # SECRET

SANCTUM_STATEFUL_DOMAINS=
SESSION_DOMAIN=

CACHE_DRIVER=file
SESSION_DRIVER=file
QUEUE_CONNECTION=sync
LOG_CHANNEL=stack
LOG_LEVEL=error
```

---

## How to Add Environment Variables in Render

1. Go to [Render Dashboard](https://dashboard.render.com)
2. Select your web service
3. Click on "Environment" in the left sidebar
4. Click "Add Environment Variable"
5. Enter **Key** and **Value**
6. For passwords/keys, check the **Secret** checkbox
7. Click "Save Changes"
8. Service will automatically redeploy

---

## Generating APP_KEY

If APP_KEY is not auto-generated:

1. Run locally: `php artisan key:generate --show`
2. Copy the output (e.g., `base64:abcd1234...`)
3. Add it to Render environment variables

Or use Render Shell after deployment:
```bash
php artisan key:generate --force
```

---

## Verifying Configuration

After deployment, check if environment is properly configured:

```bash
# In Render Shell
php artisan config:show

# Or check specific values
php artisan tinker
>>> config('app.url')
>>> config('database.connections.mysql.host')
```

---

## Security Checklist

- ✅ APP_DEBUG is set to `false`
- ✅ APP_ENV is set to `production`
- ✅ All passwords marked as SECRET
- ✅ APP_KEY is generated and set
- ✅ Database credentials are correct
- ✅ SANCTUM_STATEFUL_DOMAINS includes your frontend domain
- ✅ APP_URL matches your Render deployment URL

---

## Troubleshooting

### Can't connect to database
- Verify DB_HOST, DB_DATABASE, DB_USERNAME, DB_PASSWORD
- Ensure database is running
- Check if using internal connection string for Render database

### CORS errors
- Update SANCTUM_STATEFUL_DOMAINS with your frontend domain
- Check config/cors.php for allowed origins

### APP_KEY errors
- Generate a new key: `php artisan key:generate --show`
- Add to environment variables in Render

### Session issues
- Verify SESSION_DOMAIN matches your domain
- Should start with a dot (e.g., `.yourdomain.com`)

---

**Last Updated**: December 2025

